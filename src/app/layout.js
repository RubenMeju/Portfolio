'use client'
import { useState } from 'react'
import './globals.css'
import { Inter } from 'next/font/google'
import { motion } from 'framer-motion'
import Header from './components/header/Header'
import NavBar from './components/navBar/NavBar'
import { useMediaQuery } from './hooks/useMediaQuery'

const inter = Inter({ subsets: ['latin'] })

export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app'
}

export default function RootLayout({ children }) {
  const [isOpen, setIsOpen] = useState(false)
  const isSmall = useMediaQuery('(max-width: 1024px)')

  const variants = isSmall
    ? {
        open: {
          left: '80%'
          //  x: '80%'
          // transform: ' translateX(80%) rotateY(-5deg)'
        },

        closed: {
          left: '0%'
          // x: 0
        }
      }
    : {
        open: {
          top: '50%',
          width: '60%',
          height: '90%',
          transform: 'translateY(-50%) translateZ(-100px) rotateY(-15deg)',
          backgroundColor: 'orange',
          overflow: 'hidden'
        },
        closed: {
          height: '100%'
        }
      }

  return (
    <html lang='en'>
      <body className={inter.className}>
        <Header isOpen={isOpen} setIsOpen={setIsOpen} />
        <NavBar isOpen={isOpen} setIsOpen={setIsOpen} />

        <motion.div
          className='childrens'
          initial='closed'
          animate={isOpen ? 'open' : 'closed'}
          variants={variants}
          transition={{ duration: 0.3 }}
        >
          {children}
        </motion.div>
      </body>
    </html>
  )
}
